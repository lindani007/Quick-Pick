<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="QuickPick_Employer.QuickPickEmployer.Views.AddAisles"
             xmlns:mvvm="clr-namespace:QuickPick_Employer.QuickPickEmployer.ViewModel"
             xmlns:vm="clr-namespace:QuickPick_Employer.QuickPickEmployer.Models"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             Title="Add Aisles"
             BackgroundColor="WhiteSmoke"
             x:DataType="mvvm:ViewModelAisle" x:Name="PageRoot" Unloaded="PageRoot_Unloaded">
    <ScrollView>
        <StackLayout Spacing="10" Padding="30">
            <Label Text="Add Your Aisle" FontSize="30" FontAttributes="Bold" 
                HorizontalOptions="Center" >
                <Label.Shadow>
                    <Shadow Brush="Black"
                     Opacity="0.5"
                     Radius="10"
                     Offset="10,10" />
                </Label.Shadow>
            </Label>
            <Label Text="Add your aisles to make it easy for your customeres to find product fast." 
                FontSize="20" FontAttributes="Bold" HorizontalOptions="Center">
                <Label.Shadow>
                    <Shadow Brush="Black"
                     Opacity="0.5"
                     Radius="10"
                     Offset="10,10" />
                </Label.Shadow>
            </Label>
            <HorizontalStackLayout Spacing="25" Padding="15">
                <Border BackgroundColor="White">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="25"/>
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="Black"
                         Opacity="0.5"
                         Radius="10"
                         Offset="10,10" />
                    </Border.Shadow>
                    <Grid>
                        <StackLayout Spacing="10" Padding="10">
                            <Label Text="Add an image to make your aisle more visual" FontSize="30"/>
                            <Border StrokeThickness="0">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="20"/>
                                </Border.StrokeShape>
                                <Image Source="{Binding AisleImageUrl}" BackgroundColor="{Binding AisleImageColor}" HeightRequest="400" Aspect="AspectFill"/>
                               
                            </Border>
                            <Label Text="{Binding AisleImageUrlError}" FontSize="20" TextColor="Red"/>
                            <Border WidthRequest="400">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="25"/>
                                </Border.StrokeShape>
                                <Border.Shadow>
                                    <Shadow Brush="Black"
                                         Opacity="0.5"
                                         Radius="10"
                                         Offset="10,10" />
                                </Border.Shadow>
                                <Button TextColor="White" BackgroundColor="#66BB6A" Text="Add Aisle" FontAttributes="Bold" FontSize="30" WidthRequest="400" HorizontalOptions="Center"
                                        Command="{Binding GetImageCommand}"/>
                            </Border>
                        </StackLayout>
                    </Grid>
                </Border>
                <Grid VerticalOptions="Center">
                    <StackLayout Spacing="30" Padding="10">
                        <Border BackgroundColor="White">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="25"/>
                            </Border.StrokeShape>
                            <Border.Shadow>
                                <Shadow Brush="Black"
                                     Opacity="0.5"
                                     Radius="10"
                                     Offset="10,10" />
                            </Border.Shadow>
                            <StackLayout WidthRequest="500" Spacing="10" Padding="10">
                                <Label Text="Aisle Name" FontSize="30" />
                                <Border WidthRequest="450" HorizontalOptions="Center">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>
                                    <Entry Placeholder="Aisle Name" HorizontalTextAlignment="Center"
                                           Text="{Binding AisleName}" PlaceholderColor="{Binding AisleNameColor}" WidthRequest="450" FontSize="30"/>
                                </Border>
                                <Label Text="{Binding AisleNameError}" FontSize="20" TextColor="Red"/>
                            </StackLayout>
                        </Border>
                        <Border BackgroundColor="White">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="25"/>
                            </Border.StrokeShape>
                            <Border.Shadow>
                                <Shadow Brush="Black"
                                     Opacity="0.5"
                                     Radius="10"
                                     Offset="10,10" />
                            </Border.Shadow>
                            <StackLayout WidthRequest="500" Spacing="10" Padding="10">
                                <Label Text="Description" FontSize="30" />
                                <Border WidthRequest="450" HorizontalOptions="Center">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>
                                    <Entry Placeholder="Aisle Description" HorizontalTextAlignment="Center"
                                          Text="{Binding AisleDescription}" PlaceholderColor="{Binding AisleDescriptionEntryColor}" WidthRequest="450" FontSize="30"/>
                                    
                                </Border>
                                <Label Text="{Binding AisleDescriptionError}" FontSize="20" TextColor="Red"/>
                            </StackLayout>
                        </Border>
                    </StackLayout>
                </Grid>
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">
                <Border WidthRequest="400">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="25"/>
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="Black"
                             Opacity="0.5"
                             Radius="10"
                             Offset="10,10" />
                    </Border.Shadow>
                    <Button TextColor="White" BackgroundColor="#66BB6A" Text="Add Aisle" FontAttributes="Bold" FontSize="30" WidthRequest="400" HorizontalOptions="Center"
                            Command="{Binding AddAisleCommand}"/>
                    
                </Border>
                
            </HorizontalStackLayout>
            <Label Text="{Binding Error}" FontSize="20" TextColor="Red"/>
            <CollectionView SelectionMode="None" HorizontalOptions="Start"
                ItemsSource="{Binding Aisles}">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="vm:Aisle">
                        <Border BackgroundColor="White" HorizontalOptions="Start" WidthRequest="800">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="25"/>
                            </Border.StrokeShape>
                            <Border.Shadow>
                                <Shadow Brush="Black"
                                    Opacity="0.5"
                                    Radius="10"
                                    Offset="10,10" />
                            </Border.Shadow>
                            <StackLayout Spacing="10" Padding="15" Orientation="Horizontal">
                                <Border StrokeThickness="0">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>
                                    <Image Source="{Binding ImageSourceUrl}" HeightRequest="150" WidthRequest="250" Aspect="AspectFill"/>
                                </Border>
                                <StackLayout VerticalOptions="Center" WidthRequest="100">
                                    <Label Text="{Binding AisleName}" FontSize="24" FontAttributes="Bold"/>
                                    <Label Text="{Binding AisleDescription}" FontSize="18"/>
                                </StackLayout>
                                <StackLayout Spacing="5" VerticalOptions="End" Orientation="Horizontal">
                                    <Button TextColor="White" BackgroundColor="#66BB6A" Text="Change" FontAttributes="Bold" 
                                                 WidthRequest="200" Command="{Binding BindingContext.ChangeAisleCommand, Source={x:Reference PageRoot}}"
                                                 VerticalOptions="End" FontSize="30" CommandParameter="{Binding .}"/>
                                    <Button TextColor="White" BackgroundColor="#66BB6A" Text="Delete" FontAttributes="Bold"
                                                WidthRequest="200" Command="{Binding BindingContext.DeleteAisleCommand, Source={x:Reference PageRoot}}"
                                                VerticalOptions="End" FontSize="30" CommandParameter="{Binding .}"/>
                                </StackLayout>
                            </StackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </StackLayout>
    </ScrollView>
</ContentPage>